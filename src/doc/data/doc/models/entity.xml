<entity name="entity" xmlns="https://github.com/Quodatum/app-doc/entity">
	<description>About an entity i.e. something described in this framework
	</description>
	<namespace prefix="ent"
		uri="https://github.com/Quodatum/app-doc/entity" />
	<fields>
		<field name="name" type="xs:string">
			<description>name</description>
			<xpath>$_/@name</xpath>
		</field>
		<field name="type" type="xs:string">
			<description>xquery type. Just xs:?? for now</description>
			<xpath>$_/ent:data/@type</xpath>
		</field>
		<field name="code" type="xs:string?">
			<description>Xquery code to access items</description>
			<xpath>$_/ent:data</xpath>
		</field>
		<field name="description" type="xs:string">
			<description>description</description>
			<xpath>$_/ent:description</xpath>
		</field>
		<field name="iconclass" type="xs:string">
			<description>css class for icon</description>
			<xpath>$_/ent:iconclass</xpath>
		</field>
		<field name="nfields" type="xs:integer">
			<description>The number of fields for this entity</description>
			<xpath>fn:count($_/ent:fields/ent:field)</xpath>
		</field>
		<field name="fieldslink" type="xs:string">
			<description>Links for fields description</description>
			<xpath>fn:concat("/data/entity/",$_/@name,"/field")</xpath>
		</field>
		<field name="parent" type="xs:string?">
			<description>parent entity, if any</description>
			<xpath>$_/ent:parent/@name</xpath>
		</field>
		<field name="parentlink" type="xs:string?">
			<description>parent entity link if any</description>
			<xpath>fn:concat("/data/entity/",$_/ent:parent/@name)</xpath>
		</field>
	</fields>
	<iconclass>glyphicon glyphicon-list-alt</iconclass>
	<data type="element(ent:entity)">db:open("doc-doc")//ent:entity</data>
</entity>